<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/batch"
             xmlns:beans="http://www.springframework.org/schema/beans"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="
   http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans.xsd
   http://www.springframework.org/schema/batch
   http://www.springframework.org/schema/batch/spring-batch.xsd">

   <beans:import resource="classpath*:/META-INF/spring/jobs/common-job-context.xml"/>

   <beans:bean name="MgmtVMUserMgmtServerCfgTasklet"
               class="com.vmware.bdd.usermgmt.job.CfgUserMgmtServerOnMgmtVMStep">
   </beans:bean>
   <beans:bean name="MgmtVMDisableLocalAccountTasklet"
               class="com.vmware.bdd.usermgmt.job.DisableMgmtVmLocalAccountStep">
   </beans:bean>

   <job id="MgmtVMUserMgmtServerCfgJob" job-repository="jobRepository">
      <step id="MgmtVMUserMgmtServerCfgStep">
         <tasklet ref="MgmtVMUserMgmtServerCfgTasklet"/>
         <listeners>
            <listener ref="stepListener"/>
         </listeners>
      </step>

      <listeners>
         <listener ref="jobListener" />
      </listeners>
   </job>

   <job id="MgmtVMDisableLocalAccountJob" job-repository="jobRepository">
      <step id="MgmtVMDisableLocalAccountStep">
         <tasklet ref="MgmtVMDisableLocalAccountTasklet"/>
         <listeners>
            <listener ref="stepListener"/>
         </listeners>
      </step>

      <listeners>
         <listener ref="jobListener" />
      </listeners>
   </job>

</beans:beans>
